---
layout: page

small-radar-width: 300
big-radar-width: 500
map-width: 700
---

{{ content }}

{% assign xx = page.xx %}

<!-- Common grid functionality -->
<script src="{{ site.baseurl }}/assets/js/grid.js"></script>

<style>
    #ratings-table {
        width: 900px;
    }

    #statistics-table {
        width: 900px;
    }

    .bold-row {
        font-weight: 900;
    }

    .ag-header-cell.text-center {
        .ag-header-cell-label {
            justify-content: center;
        }
    }

    .ag-header-cell.text-right {
        .ag-header-cell-label {
            justify-content: right;
        }
    }

    .ag-theme-alpine {
        --ag-font-family: 'Source Code Pro', monospace;
        /* --ag-font-family: Inconsolata; */
    }
</style>

<p>TODO - Box Plot</p>

<!-- STATISTICS TABLE -->

{% capture statistics-file %}
{{ xx }}20C_statistics
{% endcapture %}
{% assign statistics-file = statistics-file | strip_newlines %}

{% assign statistics = site.data[statistics-file] %}

<div id="statistics-table" class="ag-theme-alpine">
</div>

<!-- Grid -->
<script type="text/javascript" charset="utf-8">
    const statisticsColumns = [
        {field: 'Dimension', width: 190, unSortIcon: true},
        {field: 'COUNT', width: 120, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'MEAN', width: 120, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'STD', width: 120, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'MIN', width: 120, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'MAX', width: 120, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
    ];

    const statisticsOptions = {
        defaultColDef: {
            sortable: true,
            // resizable: true,
        },
        rowClassRules: {
            'bold-row': function (params) {return params.data.Map === "Official" || params.data.Map === "Root";},
            // 'bold-row': function (params) {return params.data.Map === "Official" || params.data.Map === "Baseline";},
        },
        columnDefs: statisticsColumns,
        domLayout: 'autoHeight',
        onGridReady: (event) => {renderRatingsTable(event.api)}
    };

    const eStatisticsGridDiv = document.getElementById('statistics-table');
    new agGrid.Grid(eRatingsGridDiv, statisticsOptions);

    const statisticsCSV = 'https://raw.githubusercontent.com/rdatools/tradeoffs/main/docs/_data/{{ statistics-file }}.csv';

    function renderStatisticsTable(api)
    {
        Papa.parse(statisticsCSV, {
            header: true,
            download: true,
            complete: response =>
            {
                data = response.data;
                data.pop();

                api.setRowData(data);
                api.sizeColumnsToFit();
            }
        })
    }
</script>

<!-- NOTABLE MAPS RATINGS TABLE -->

{% capture ratings-file %}
{{ xx }}20C_notable_maps_ratings
{% endcapture %}
{% assign ratings-file = ratings-file | strip_newlines %}

{% assign ratings = site.data[ratings-file] %}

<div id="ratings-table" class="ag-theme-alpine">
</div>

<!-- Grid -->
<script type="text/javascript" charset="utf-8">
    const ratingsColumns = [
        {field: 'Map', width: 190, unSortIcon: true},
        {field: 'Proportionality', width: 165, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'Competitiveness', width: 165, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'Minority', width: 120, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'Compactness', width: 130, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
        {field: 'Splitting', width: 125, comparator: numericComparator, sortingOrder: ['desc', 'asc'], ...centeredColumn},
    ];

    const ratingsOptions = {
        defaultColDef: {
            sortable: true,
            // resizable: true,
        },
        rowClassRules: {
            'bold-row': function (params) {return params.data.Map === "Official" || params.data.Map === "Root";},
            // 'bold-row': function (params) {return params.data.Map === "Official" || params.data.Map === "Baseline";},
        },
        columnDefs: ratingsColumns,
        domLayout: 'autoHeight',
        onGridReady: (event) => {renderRatingsTable(event.api)}
    };

    const eRatingsGridDiv = document.getElementById('ratings-table');
    new agGrid.Grid(eRatingsGridDiv, ratingsOptions);

    const ratingsCSV = 'https://raw.githubusercontent.com/rdatools/tradeoffs/main/docs/_data/{{ ratings-file }}.csv';

    function renderRatingsTable(api)
    {
        Papa.parse(ratingsCSV, {
            header: true,
            download: true,
            complete: response =>
            {
                data = response.data;
                data.pop();

                api.setRowData(data);
                api.sizeColumnsToFit();
            }
        })
    }
</script>

<p>TODO - Scatter Plots</p>